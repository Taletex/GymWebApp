<div class="main__user row m-3">

    <div class="user__maincontainer col-12 card p-0">

        <div class="maincontainer__header card-header">
            <div class="d-flex align-items-baseline mb-2">
                <h5 class="m-0">UTENTE {{user.name}} {{user.surname}}</h5>
                <!-- <div class="ml-auto">
                    <div (click)="saveUser()" class="btn btn-success btn-sm">SALVA</div>
                    <div *ngIf="account.role == Role.Admin" (click)="deleteUser()" class="btn btn-danger btn-sm ml-2">ELIMINA</div>
                </div> -->
                <div class="d-flex input-group w-auto ml-auto">
                    <div class="input-group-prepend"><span class="input-group-text">ACTIONS</span></div>
                    <div class="d-flex align-items-center form-control">
                        <div (click)="changeMode(PAGEMODE.READONLY)" class="inverse-image-button" [ngClass]="{'active': pageStatus[PAGES.USERS] == PAGEMODE.READONLY}"  ngbTooltip="Visualizza" placement="left"><img src="assets/icons/actions/visibility.svg" style="width:20px; height:auto;"></div>
                        <!-- <div *ngIf="account.role == Role.Admin" (click)="changeMode(PAGEMODE.WRITE)" class="ml-2 inverse-image-button" [ngClass]="{'active': pageStatus[PAGES.USERS] == PAGEMODE.WRITE}"  ngbTooltip="Modifica" placement="left"><img src="assets/icons/actions/edit.svg" style="width:20px; height:auto;"></div> -->
                    </div>
                </div>
            </div>
        </div>

        <div class="maincontainer__body card-body">
            <form>
                <div class="form-row m-0">
                    <div class="col-2 form-group">
                        <label for="userName" class="col-form-label col-form-label-sm text-muted">Nome</label>
                        <input type="text" required [(ngModel)]="user.name" class="form-control form-control-sm" [ngClass]="{'border-bottom-only bg-white': (pageStatus[PAGES.USERS] == PAGEMODE.READONLY)}"
                            id="userName" name="userName" [attr.disabled]="pageStatus[PAGES.USERS] == PAGEMODE.READONLY">
                    </div>
                    <div class="col-2 form-group">
                        <label for="userSurname" class="col-form-label col-form-label-sm text-muted">Cognome</label>
                        <input type="text" required [(ngModel)]="user.surname" class="form-control form-control-sm" [ngClass]="{'border-bottom-only bg-white': (pageStatus[PAGES.USERS] == PAGEMODE.READONLY)}"
                            id="userSurname" name="userSurname" [attr.disabled]="pageStatus[PAGES.USERS] == PAGEMODE.READONLY">
                    </div>
                    <div class="col-2 form-group">
                        <label for="userDoB" class="col-form-label col-form-label-sm text-muted">DoB</label>
                        <input type="date" required [(ngModel)]="user.dateOfBirth" class="form-control form-control-sm" [ngClass]="{'border-bottom-only bg-white': (pageStatus[PAGES.USERS] == PAGEMODE.READONLY)}"
                            id="userDoB" name="userDoB" [attr.disabled]="pageStatus[PAGES.USERS] == PAGEMODE.READONLY">
                    </div>
                    <div class="col-2 form-group">
                        <label for="userSex" class="col-form-label col-form-label-sm text-muted">Sesso</label>
                        <select [(ngModel)]="user.sex" class="form-control form-control-sm cursor-pointer" id="userSex" name="userSex" [attr.disabled]="pageStatus[PAGES.USERS] == PAGEMODE.READONLY"
                        [ngClass]="{'border-bottom-only bg-white': (pageStatus[PAGES.USERS] == PAGEMODE.READONLY)}">
                            <option [value]="'M'">Uomo</option>
                            <option [value]="'F'">Donna</option>
                        </select>
                    </div>
                    <div class="col-2 form-group">
                        <label for="userType" class="col-form-label col-form-label-sm text-muted">Tipo</label>
                        <select [(ngModel)]="user.userType" required class="form-control form-control-sm cursor-pointer" id="userType" name="userType" [attr.disabled]="pageStatus[PAGES.USERS] == PAGEMODE.READONLY"
                        [ngClass]="{'border-bottom-only bg-white': (pageStatus[PAGES.USERS] == PAGEMODE.READONLY)}">
                            <option [value]="'athlete'">Atleta</option>
                            <option [value]="'coach'">Coach</option>
                            <option [value]="'both'">Both</option>
                        </select>
                    </div>
                    <div class="col-2 form-group">
                        <label for="userBw" class="col-form-label col-form-label-sm text-muted">Body Weight</label>
                        <input type="number" min=10 max=500 [(ngModel)]="user.bodyWeight" class="form-control form-control-sm" [ngClass]="{'border-bottom-only bg-white': (pageStatus[PAGES.USERS] == PAGEMODE.READONLY)}"
                            id="userBw" name="userBw" [attr.disabled]="pageStatus[PAGES.USERS] == PAGEMODE.READONLY">
                    </div>
                    <div class="col-2 form-group">
                        <label for="userYearsOfExperience" class="col-form-label col-form-label-sm text-muted">Esperienza (anni)</label>
                        <input type="number" min=0 max=100 [(ngModel)]="user.yearsOfExperience" class="form-control form-control-sm" [ngClass]="{'border-bottom-only bg-white': (pageStatus[PAGES.USERS] == PAGEMODE.READONLY)}"
                            id="userYearsOfExperience" name="userYearsOfExperience" [attr.disabled]="pageStatus[PAGES.USERS] == PAGEMODE.READONLY">
                    </div>
                    <div class="col-2 form-group">
                        <label for="userContactsEmail" class="col-form-label col-form-label-sm text-muted">Email</label>
                        <input type="email" [(ngModel)]="user.contacts.email" class="form-control form-control-sm" [ngClass]="{'border-bottom-only bg-white': (pageStatus[PAGES.USERS] == PAGEMODE.READONLY)}"
                            id="userContactsEmail" name="userContactsEmail" [attr.disabled]="pageStatus[PAGES.USERS] == PAGEMODE.READONLY">
                    </div>
                    <div class="col-2 form-group">
                        <label for="userContactsTelephone" class="col-form-label col-form-label-sm text-muted">Telefono</label>
                        <input type="tel" required [(ngModel)]="user.contacts.telephone" class="form-control form-control-sm" [ngClass]="{'border-bottom-only bg-white': (pageStatus[PAGES.USERS] == PAGEMODE.READONLY)}"
                            id="userContactsTelephone" name="userContactsTelephone" [attr.disabled]="pageStatus[PAGES.USERS] == PAGEMODE.READONLY">
                    </div>
                    <div class="col-2 form-group">
                        <label for="userResidenceState" class="col-form-label col-form-label-sm text-muted">Stato</label>
                        <input type="text" [(ngModel)]="user.residence.state" class="form-control form-control-sm" [ngClass]="{'border-bottom-only bg-white': (pageStatus[PAGES.USERS] == PAGEMODE.READONLY)}"
                            id="userResidenceState" name="userResidenceState" [attr.disabled]="pageStatus[PAGES.USERS] == PAGEMODE.READONLY">
                    </div>
                    <div class="col-2 form-group">
                        <label for="userResidenceCity" class="col-form-label col-form-label-sm text-muted">Citt√†</label>
                        <input type="text" [(ngModel)]="user.residence.city" class="form-control form-control-sm" [ngClass]="{'border-bottom-only bg-white': (pageStatus[PAGES.USERS] == PAGEMODE.READONLY)}"
                            id="userResidenceCity" name="userResidenceCity" [attr.disabled]="pageStatus[PAGES.USERS] == PAGEMODE.READONLY">
                    </div>
                    <div class="col-2 form-group">
                        <label for="userResidenceAddress" class="col-form-label col-form-label-sm text-muted">Indirizzo</label>
                        <input type="text" [(ngModel)]="user.residence.address" class="form-control form-control-sm" [ngClass]="{'border-bottom-only bg-white': (pageStatus[PAGES.USERS] == PAGEMODE.READONLY)}"
                            id="userResidenceAddress" name="userResidenceAddress" [attr.disabled]="pageStatus[PAGES.USERS] == PAGEMODE.READONLY">
                    </div>
                </div>
            </form>
        </div>

    </div>

    <!-- Loader -->
    <div class='h-100 w-100' [hidden]="!bLoading">
        <div style="position:absolute; background-color:black; opacity:50%; right:0; top:0;" class="w-100 h-100">
            <div class="container d-flex align-items-center justify-content-center w-100 h-100">
                <div class="lds-ring"><div></div><div></div><div></div><div></div></div>
            </div>
        </div>
    </div>

</div>