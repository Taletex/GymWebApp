<ng-template #userModal let-modal>
    <div class="usermodal__container">
        <div class="modal-header">
            <h4 class="modal-title" id="modal-basic-title">Crea Utente</h4>
            <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body">
            <div class="card h-100">
                <div class="card-body h-100">
                    <form>
                        <div class="form-row m-0">
                            <div class="col-2 form-group">
                                <label for="userName" class="col-form-label col-form-label-sm text-muted">Nome</label>
                                <input type="text" required [(ngModel)]="newUser.name" class="form-control form-control-sm"
                                    id="userName" name="userName">
                            </div>
                            <div class="col-2 form-group">
                                <label for="userSurname" class="col-form-label col-form-label-sm text-muted">Cognome</label>
                                <input type="text" required [(ngModel)]="newUser.surname" class="form-control form-control-sm"
                                    id="userSurname" name="userSurname">
                            </div>
                            <div class="col-2 form-group">
                                <label for="userDoB" class="col-form-label col-form-label-sm text-muted">DoB</label>
                                <input type="date" required [(ngModel)]="newUser.dateOfBirth" class="form-control form-control-sm"
                                    id="userDoB" name="userDoB">
                            </div>
                            <div class="col-2 form-group">
                                <label for="userSex" class="col-form-label col-form-label-sm text-muted text-muted">Sesso</label>
                                <select [(ngModel)]="newUser.sex" class="form-control form-control-sm cursor-pointer" id="userSex" name="userSex">
                                    <option [value]="'M'">Uomo</option>
                                    <option [value]="'F'">Donna</option>
                                </select>
                            </div>
                            <div class="col-2 form-group">
                                <label for="userBw" class="col-form-label col-form-label-sm text-muted">Body Weight</label>
                                <input type="number" min=10 max=500 [(ngModel)]="newUser.bodyWeight" class="form-control form-control-sm"
                                    id="userBw" name="userBw">
                            </div>
                            <div class="col-2 form-group">
                                <label for="userType" class="col-form-label col-form-label-sm text-muted text-muted">Tipo</label>
                                <select [(ngModel)]="newUser.userType" required class="form-control form-control-sm cursor-pointer" id="userType" name="userType">
                                    <option [value]="'athlete'">Atleta</option>
                                    <option [value]="'coach'">Coach</option>
                                </select>
                            </div>
                            <div class="col-2 form-group">
                                <label for="userYearsOfExperience" class="col-form-label col-form-label-sm text-muted">Esperienza (anni)</label>
                                <input type="number" min=0 max=100 [(ngModel)]="newUser.yearsOfExperience" class="form-control form-control-sm"
                                    id="userYearsOfExperience" name="userYearsOfExperience">
                            </div>
                            <div class="col-2 form-group">
                                <label for="userContactsEmail" class="col-form-label col-form-label-sm text-muted">Email</label>
                                <input type="email" [(ngModel)]="newUser.contacts.email" class="form-control form-control-sm"
                                    id="userContactsEmail" name="userContactsEmail">
                            </div>
                            <div class="col-2 form-group">
                                <label for="userContactsTelephone" class="col-form-label col-form-label-sm text-muted">Telefono</label>
                                <input type="tel" required [(ngModel)]="newUser.contacts.telephone" class="form-control form-control-sm"
                                    id="userContactsTelephone" name="userContactsTelephone">
                            </div>
                            <div class="col-2 form-group">
                                <label for="userResidenceState" class="col-form-label col-form-label-sm text-muted">Stato</label>
                                <input type="text" [(ngModel)]="newUser.residence.state" class="form-control form-control-sm"
                                    id="userResidenceState" name="userResidenceState">
                            </div>
                            <div class="col-2 form-group">
                                <label for="userResidenceCity" class="col-form-label col-form-label-sm text-muted">Citt√†</label>
                                <input type="text" [(ngModel)]="newUser.residence.city" class="form-control form-control-sm"
                                    id="userResidenceCity" name="userResidenceCity">
                            </div>
                            <div class="col-2 form-group">
                                <label for="userResidenceAddress" class="col-form-label col-form-label-sm text-muted">Indirizzo</label>
                                <input type="text" [(ngModel)]="newUser.residence.address" class="form-control form-control-sm"
                                    id="userResidenceAddress" name="userResidenceAddress">
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="modal-footer" style="overflow:visible">
            <button class="btn btn-success" ngbAutofocus [disabled]="(newUser.name == '' || newUser.surname == '' || newUser.dateOfBirth == null || newUser.userType == '')" style="position:relative;" (click)="modal.close(newUser)">
                <span>Crea</span> 
                <div style="position: absolute; right: 0px; bottom: 0px; width:100%; height:100%;" ngbTooltip="Campi obbligatori da compilare" placement="top" [hidden]="newUser.name != ''"></div>
            </button>
        </div>
    </div>
</ng-template>

<div (click)="openUserModal(userModal)">
    <ng-content></ng-content>
</div>

